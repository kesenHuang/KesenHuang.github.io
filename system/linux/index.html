<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>linux | Kesen’s Blog</title><meta name="keywords" content="linux"><meta name="author" content="Kesen"><meta name="copyright" content="Kesen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="LinuxLinux 简介概述定义：Linux 是一种自由和开放源码的类 UNIX 操作系统，使用 Linux 内核。 主要发行版：  RedHat  ​         -  Red Hat Enterprise Linux 收费 ​            - Centos 免费，国内互联网商用  Ubuntu ：免费，由众多黑客维护  Suse：专业的操作系统，易用的YaST软件包管理系统">
<meta property="og:type" content="article">
<meta property="og:title" content="linux">
<meta property="og:url" content="http://example.com/system/linux/index.html">
<meta property="og:site_name" content="Kesen’s Blog">
<meta property="og:description" content="LinuxLinux 简介概述定义：Linux 是一种自由和开放源码的类 UNIX 操作系统，使用 Linux 内核。 主要发行版：  RedHat  ​         -  Red Hat Enterprise Linux 收费 ​            - Centos 免费，国内互联网商用  Ubuntu ：免费，由众多黑客维护  Suse：专业的操作系统，易用的YaST软件包管理系统">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2021-01-18T14:08:51.000Z">
<meta property="article:modified_time" content="2021-01-31T12:38:00.000Z">
<meta property="article:author" content="Kesen">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/system/linux/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2021-01-31 20:38:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}const fontSizeVal = saveToLocal.get('global-font-size')
if (fontSizeVal !== undefined) {
  document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
}})()</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Kesen’s Blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Kesen’s Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">linux</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-18T14:08:51.000Z" title="发表于 2021-01-18 22:08:51">2021-01-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-01-31T12:38:00.000Z" title="更新于 2021-01-31 20:38:00">2021-01-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/">系统管理</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/%E8%BF%90%E7%BB%B4/">运维</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><h2 id="Linux-简介"><a href="#Linux-简介" class="headerlink" title="Linux 简介"></a>Linux 简介</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>定义：Linux 是一种自由和开放源码的类 UNIX 操作系统，使用 Linux 内核。</p>
<p>主要发行版：</p>
<ol>
<li><p>RedHat </p>
<p>​         -  Red Hat Enterprise Linux 收费</p>
<p>​            - Centos 免费，国内互联网商用</p>
</li>
<li><p>Ubuntu ：免费，由众多黑客维护</p>
</li>
<li><p>Suse：专业的操作系统，易用的YaST软件包管理系统</p>
</li>
</ol>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><ol>
<li><p>安装虚拟机</p>
</li>
<li><p>创建虚拟空间，网络连接方式</p>
<blockquote>
<p> 桥接</p>
</blockquote>
</li>
</ol>
<p> 桥接网络是指本地物理网卡和虚拟网卡通过VMnet0虚拟交换机进行桥接，物理网卡和虚拟网卡在拓扑图上处于同等地位，那么物理网卡和虚拟网卡就相当于处于同一个网段，虚拟交换机就相当于一台现实网络中的交换机,所以两个网卡的IP地址也要设置为同一网段。</p>
<p>​                NAT</p>
<p>NAT模式中，就是让虚拟机借助NAT(网络地址转换)功能，通过宿主机器所在的网络来访问公网。</p>
<p>  NAT模式中，虚拟机的网卡和物理网卡的网络，不在同一个网络，虚拟机的网卡，是在vmware提供的一个虚拟网络。</p>
<p>  NAT和桥接的比较:</p>
<p>  (1) NAT模式和桥接模式虚拟机都可以上外网。</p>
<p>  (2) 由于NAT的网络在vmware提供的一个虚拟网络里，所以局域网其他主机是无法访问虚拟机的，而宿主机可以访问虚拟机，虚拟机可以访问局域网的所有主机，因为真实的局域网相对于NAT的虚拟网络，就是NAT的虚拟网络的外网，不懂的人可以查查NAT的相关知识。</p>
<p>  (3) 桥接模式下，多个虚拟机之间可以互相访问；NAT模式下，多个虚拟机之间也可以相互访问。</p>
<p>  如果你建一个虚拟机，只是给自己用，不需要给局域网其他人用，那么可以选择NAT，毕竟NAT模式下的虚拟系统的TCP/IP配置信息是由VMnet8(NAT)虚拟网络的DHCP服务器提供的，只要虚拟机的网路配置是DHCP，那么你不需要进行任何其他的配置，只需要宿主机器能访问互联网即可，就可以让虚拟机联网了。</p>
<p> 例如你想建多个虚拟机集群，作为测试使用，而宿主机可能是一个笔记本，ip不固定。这种应用场景，我们需要采用nat模式了，但是我们要考虑一个问题，虚拟机之间是需要互访的，默认采用dhcp，虚拟机的ip每次重启，ip都是不固定的，所以我们需要手工设置虚拟机的ip地址。</p>
<p> 但是我们对虚拟机网卡所在的虚拟网络的信息还一无所知，例如虚拟机网络的路由地址，子网掩码，所以我们需要先查下nat虚拟网络的信息。</p>
<p> 使用vmware,在Edit-&gt;Virtual Network Editor中配置好虚拟网络信息后看到下图所示，注意VMnet8，VMnet8相当于是本机的一个路由，虚拟机设置NAT后就通过这个路由进行上网的，可以查看其网络地址，路由地址，子网掩码。</p>
<p> 选择VMnet8-&gt;NAT设置,可以看到子网ip显示为192.168.233.0，子网掩码是255.255.255.0，那路由地址呢，其实就是网关IP了，都是同个东西，这里是192.168.233.2。</p>
<p> 接下来就好办了，在对应的虚拟机设置好ip，子网掩码，路由地址就可以上外网了，至于dns可以设置为8.8.8.8.</p>
<blockquote>
<p>Host-Only</p>
</blockquote>
<p>在Host-Only模式下，虚拟网络是一个全封闭的网络，它唯一能够访问的就是主机。其实Host-Only网络和NAT网络很相似，不同的地方就是Host-Only网络没有NAT服务，所以虚拟网络不能连接到Internet。主机和虚拟机之间的通信是通过VMware Network Adepter VMnet1虚拟网卡来实现的。</p>
<p>　　Host-Only的宗旨就是建立一个与外界隔绝的内部网络，来提高内网的安全性。这个功能或许对普通用户来说没有多大意义，但大型服务商会常常利用这个功能。如果你想为VMnet1网段提供路由功能，那就需要使用RRAS，而不能使用XP或2000的ICS，因为ICS会把内网的IP地址改为192.168.0.1，但虚拟机是不会给VMnet1虚拟网卡分配这个地址的，那么主机和虚拟机之间就不能通信了。</p>
<ol>
<li><p>安装Centos</p>
<p>对分区的基本要求：至少有一个根（/） 分区，用于存放系统文件及程序，大小为5GB以上</p>
</li>
</ol>
<h3 id="Linux的基础知识"><a href="#Linux的基础知识" class="headerlink" title="Linux的基础知识"></a>Linux的基础知识</h3><h4 id="Linux系统的组成"><a href="#Linux系统的组成" class="headerlink" title="Linux系统的组成"></a>Linux系统的组成</h4><ol>
<li><strong>linux内核</strong>（linus 团队管理）</li>
<li><strong>shell</strong>：用户与内核交互的接口</li>
<li>*文件系统**：ext3、ext4等。windows 有 fat32 、ntfs</li>
<li><strong>第三方应用软件</strong></li>
</ol>
<h4 id="Shell的基本知识"><a href="#Shell的基本知识" class="headerlink" title="Shell的基本知识"></a>Shell的基本知识</h4><blockquote>
<p>Shell是系统的用户界面，提供了<strong>用户与内核进行交互操作的一种接口</strong>(命令解释器)</p>
</blockquote>
<p>shell可以执行：</p>
<ul>
<li><strong>内部命令</strong></li>
<li><strong>应用程序</strong></li>
<li><strong>shell脚本</strong></li>
</ul>
<h2 id="Linux-远程控制管理"><a href="#Linux-远程控制管理" class="headerlink" title="Linux 远程控制管理"></a>Linux 远程控制管理</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><p>传统的网络服务程序，FTP、POP、telnet 本质上都是不安全的，因为它们在网络上通过明文传送口令和数据，这些数据非常容易被截获。SSH 叫做 <code>Secure Shell</code>。通过 SSH，可以把传输数据进行加密，预防攻击，传输的数据进行了压缩，可以加快传输速度。</p>
<h3 id="OpenSSH"><a href="#OpenSSH" class="headerlink" title="OpenSSH"></a>OpenSSH</h3><p>SSH 是芬兰一家公司开发。但是受到版权和加密算法限制，现在很多人都使用 OpenSSH。OpenSSH 是 SSH 的替代软件，免费。</p>
<p>OpenSSH 由客户端和服务端组成。</p>
<ul>
<li>基于口令的安全验证：知道服务器的帐号密码即可远程登录，口令和数据在传输过程中都会被加密。</li>
<li>基于密钥的安全验证：此时需要在创建一对密钥，把公有密钥放到远程服务器上自己的宿主目录中，而私有密钥则由自己保存</li>
</ul>
<h2 id="Linux-的目录结构"><a href="#Linux-的目录结构" class="headerlink" title="Linux 的目录结构"></a>Linux 的目录结构</h2><h3 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h3><p><img src="https://i.loli.net/2021/01/18/nWAuUbQj7rdBkOT.png" alt="linux文件目录结构"></p>
<table>
<thead>
<tr>
<th align="left">目录</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">bin</td>
<td align="left">存放二进制可执行文件(ls,cat,mkdir等)</td>
</tr>
<tr>
<td align="left">boot</td>
<td align="left">存放用于系统引导时使用的各种文件</td>
</tr>
<tr>
<td align="left">dev</td>
<td align="left">用于存放设备文件</td>
</tr>
<tr>
<td align="left">etc</td>
<td align="left">存放系统配置文件</td>
</tr>
<tr>
<td align="left">home</td>
<td align="left">存放所有用户文件的根目录</td>
</tr>
<tr>
<td align="left">lib</td>
<td align="left">存放跟文件系统中的程序运行所需要的共享库及内核模块</td>
</tr>
<tr>
<td align="left">mnt</td>
<td align="left">系统管理员安装临时文件系统的安装点</td>
</tr>
<tr>
<td align="left">opt</td>
<td align="left">额外安装的可选应用程序包所放置的位置</td>
</tr>
<tr>
<td align="left">proc</td>
<td align="left">虚拟文件系统，存放当前内存的映射</td>
</tr>
<tr>
<td align="left">root</td>
<td align="left">超级用户目录</td>
</tr>
<tr>
<td align="left">sbin</td>
<td align="left">存放二进制可执行文件，只有root才能访问</td>
</tr>
<tr>
<td align="left">tmp</td>
<td align="left">用于存放各种临时文件</td>
</tr>
<tr>
<td align="left">usr</td>
<td align="left">用于存放系统应用程序，比较重要的目录/usr/local 本地管理员软件安装目录</td>
</tr>
<tr>
<td align="left">var</td>
<td align="left">用于存放运行时需要改变数据的文件</td>
</tr>
</tbody></table>
<h2 id="常用文件、目录操作命令"><a href="#常用文件、目录操作命令" class="headerlink" title="常用文件、目录操作命令"></a>常用文件、目录操作命令</h2><h3 id="命令表"><a href="#命令表" class="headerlink" title="命令表"></a>命令表</h3><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">说明</th>
<th align="left">语法</th>
<th align="left">参数</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ls</td>
<td align="left">显示文件和目录列表</td>
<td align="left">ls [-alrtAFR] [name…]</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">-l</td>
<td align="left">列出文件的详细信息</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">-a</td>
<td align="left">列出当前目录所有文件，包含隐藏文件</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">-h</td>
<td align="left">显示大小，便于查看（例如G、M、K）</td>
</tr>
<tr>
<td align="left">mkdir</td>
<td align="left">创建目录</td>
<td align="left">mkdir [-p] dirName</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">-p</td>
<td align="left">父目录不存在情况下先生成父目录</td>
</tr>
<tr>
<td align="left">cd</td>
<td align="left">切换目录</td>
<td align="left">cd [dirName]</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">touch</td>
<td align="left">生成一个空文件</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">echo</td>
<td align="left">生成一个带内容文件</td>
<td align="left">echo abcd &gt; 1.txt，echo 1234 &gt;&gt; 1.txt</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">cat</td>
<td align="left">显示文本文件内容</td>
<td align="left">cat [-AbeEnstTuv] [–help] [–version] fileName</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">cp</td>
<td align="left">复制文件或目录</td>
<td align="left">cp [options] source dest</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">-p</td>
<td align="left">复制的文件保持原有文件的修改时间</td>
</tr>
<tr>
<td align="left">rm</td>
<td align="left">删除文件</td>
<td align="left">rm [options] name…</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">-f</td>
<td align="left">强制删除文件或目录</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">-r</td>
<td align="left">同时删除该目录下的所有文件</td>
</tr>
<tr>
<td align="left">mv</td>
<td align="left">移动文件或目录</td>
<td align="left">mv [options] source dest</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">mv oldNameFile new NameFile</td>
<td align="left">重命名</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">mv fileName /targetFolder</td>
<td align="left">移动文件</td>
</tr>
<tr>
<td align="left">find</td>
<td align="left">在文件系统中查找指定的文件</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">-name</td>
<td align="left">文件名</td>
</tr>
<tr>
<td align="left">grep</td>
<td align="left">在指定的文本文件中查找指定的字符串</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">tree</td>
<td align="left">用于以树状图列出目录的内容</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">pwd</td>
<td align="left">显示当前工作目录</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">ln</td>
<td align="left">建立软链接</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">more</td>
<td align="left">分页显示文本文件内容</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">空格键</td>
<td align="left">向下滚动一屏</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Crtl + B</td>
<td align="left">返回上一屏</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Enter</td>
<td align="left">向下n行，需要定义，默认一行</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">q</td>
<td align="left">退出more</td>
</tr>
<tr>
<td align="left">head</td>
<td align="left">显示文件开头内容</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">tail</td>
<td align="left">显示文件结尾内容</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">-f</td>
<td align="left">跟踪输出</td>
</tr>
</tbody></table>
<h3 id="TIP"><a href="#TIP" class="headerlink" title="TIP"></a>TIP</h3><ul>
<li><code>. </code>表示当前目录</li>
<li><code>..</code> 表示当前目录的上一级目录（父目录）</li>
<li><code>-</code>表示用 cd 命令切换目录<strong>前</strong>所在的目录</li>
<li><code>~</code> 表示<strong>用户主目录</strong>的绝对路径名</li>
<li><code>管道命令 |</code> ：将前面的结果给后面的命令，例如：<code>ls -la | wc </code>，将ls的结果加油wc命令来统计字数</li>
<li><code>重定向 &gt; 是覆盖模式，&gt;&gt; 是追加模式</code></li>
</ul>
<p><strong>绝对路径：</strong></p>
<ul>
<li>以斜线（/）开头 ，描述到文件位置的<strong>完整说明</strong> ，任何时候你想指定文件名的时候都可以使用</li>
</ul>
<p><strong>相对路径 ：</strong></p>
<ul>
<li>不以斜线（/）开头 ，指定<strong>相对于你的当前工作目录而言的位置</strong> ，可以被用作指定文件名的简捷方式</li>
</ul>
<h2 id="常用监控系统状态命令"><a href="#常用监控系统状态命令" class="headerlink" title="常用监控系统状态命令"></a>常用监控系统状态命令</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">stat</td>
<td align="left">显示指定文件的相关信息,比ls命令显示内容更多</td>
</tr>
<tr>
<td align="left">who</td>
<td align="left">显示在线登录用户</td>
</tr>
<tr>
<td align="left">hostname</td>
<td align="left">显示主机名称</td>
</tr>
<tr>
<td align="left">uname</td>
<td align="left">显示系统信息</td>
</tr>
<tr>
<td align="left">top</td>
<td align="left">显示当前系统中耗费资源最多的进程</td>
</tr>
<tr>
<td align="left">ps</td>
<td align="left">显示瞬间的进程状态</td>
</tr>
<tr>
<td align="left">du</td>
<td align="left">显示指定的文件（目录）已使用的磁盘空间的总量</td>
</tr>
<tr>
<td align="left">df</td>
<td align="left">显示文件系统磁盘空间的使用情况</td>
</tr>
<tr>
<td align="left">free</td>
<td align="left">显示当前内存和交换空间的使用情况</td>
</tr>
<tr>
<td align="left">ifconfig</td>
<td align="left">显示网络接口信息</td>
</tr>
<tr>
<td align="left">ping</td>
<td align="left">测试网络的连通性</td>
</tr>
<tr>
<td align="left">netstat</td>
<td align="left">显示网络状态信息</td>
</tr>
<tr>
<td align="left">clear</td>
<td align="left">清屏</td>
</tr>
<tr>
<td align="left">kill</td>
<td align="left">杀死一个进程</td>
</tr>
</tbody></table>
<h3 id="显示进程信息"><a href="#显示进程信息" class="headerlink" title="显示进程信息"></a>显示进程信息</h3><table>
<thead>
<tr>
<th>操作</th>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>参数</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>-a</td>
<td>显示当前终端的所有进程信息</td>
</tr>
<tr>
<td></td>
<td>-u</td>
<td>以用户的格式显示进程信息</td>
</tr>
<tr>
<td></td>
<td>-x</td>
<td>显示后台进程运行的参数</td>
</tr>
<tr>
<td></td>
<td>-e</td>
<td>显示所有进程</td>
</tr>
<tr>
<td></td>
<td>-f</td>
<td>全格式</td>
</tr>
<tr>
<td>例子</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>aux</td>
<td>显示当前进程状态</td>
</tr>
<tr>
<td></td>
<td>ef</td>
<td>可以显示父进程ID，</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="ps-aux-：显示当前进程状态"><a href="#ps-aux-：显示当前进程状态" class="headerlink" title="ps -aux ：显示当前进程状态"></a>ps -aux ：显示当前进程状态</h4><ul>
<li>USER: 行程拥有者</li>
<li>PID: pid</li>
<li>%CPU: 占用的 CPU 使用率</li>
<li>%MEM: 占用的记忆体使用率</li>
<li>VSZ: 占用的虚拟记忆体大小</li>
<li>RSS: 占用的记忆体大小</li>
<li>TTY: 终端的次要装置号码 (minor device number of tty)</li>
<li>STAT: 该行程的状态:<ul>
<li>D: 无法中断的休眠状态 (通常 IO 的进程)</li>
<li>R: 正在执行中</li>
<li>S: 静止状态</li>
<li>T: 暂停执行</li>
<li>Z: 不存在但暂时无法消除</li>
<li>W: 没有足够的记忆体分页可分配</li>
<li>&lt;: 高优先序的行程</li>
<li>N: 低优先序的行程</li>
<li>L: 有记忆体分页分配并锁在记忆体内 (实时系统或捱A I/O)</li>
</ul>
</li>
<li>START: 行程开始时间</li>
<li>TIME: 执行的时间</li>
<li>COMMAND:所执行的指令</li>
</ul>
<h4 id="ps-ef"><a href="#ps-ef" class="headerlink" title="ps  -ef"></a>ps  -ef</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UID    PID PPID C STIME TTY     TIME CMD</span><br></pre></td></tr></table></figure>

<ul>
<li>UID:用户ID</li>
<li>PID：进程ID</li>
<li>PPID：父进程ID</li>
<li>C：CPU用户计算执行优先级的因子。数值越大，表明进程是CPU密集型运算，执行优先级会降低；数值越小，表明进程是I/O密集型运算，执行优先级会提高</li>
<li>STIME：进程启动的时间</li>
<li>TTY：完整的终端名称</li>
<li>TIME：CPU时间</li>
<li>CMD：启动进程所用的命名和参数</li>
</ul>
<h3 id="查看网络情况"><a href="#查看网络情况" class="headerlink" title="查看网络情况"></a>查看网络情况</h3><h4 id="常用选项"><a href="#常用选项" class="headerlink" title="常用选项"></a>常用选项</h4><table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>-an</td>
<td>按一定顺序排列输出</td>
</tr>
<tr>
<td>-p</td>
<td>显示哪个进程在调用</td>
</tr>
<tr>
<td></td>
<td><code>一般用netstat -anp</code></td>
</tr>
</tbody></table>
<h2 id="开关机命令"><a href="#开关机命令" class="headerlink" title="开关机命令"></a>开关机命令</h2><p>shutdown 命令可以用来进行关机程序，并且在关机以前传送讯息给所有使用者正在执行的程序，shutdown 也可以用来重开机。</p>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">语法</th>
<th align="left">参数</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">shutdown</td>
<td align="left">shutdown [-t seconds] [-rkhncfF] time [message]</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-t seconds</td>
<td align="left">设定在几秒钟之后进行关机程序</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-k</td>
<td align="left">并不会真的关机，只是将警告讯息传送给所有只用者</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-r</td>
<td align="left">关机后重新开机（重启）</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-h</td>
<td align="left">关机后停机</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-n</td>
<td align="left">不采用正常程序来关机，用强迫的方式杀掉所有执行中的程序后自行关机</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-c</td>
<td align="left">取消目前已经进行中的关机动作</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-f</td>
<td align="left">关机时，不做 fcsk 动作(检查 Linux 档系统)</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-F</td>
<td align="left">关机时，强迫进行 fsck 动作</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">time</td>
<td align="left">设定关机的时间</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">message</td>
<td align="left">传送给所有使用者的警告讯息</td>
</tr>
</tbody></table>
<h3 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h3><ul>
<li>reboot</li>
<li>shutdown  -r now</li>
</ul>
<h3 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h3><ul>
<li>shutdown -h nown</li>
</ul>
<h2 id="文件打包和压缩命令"><a href="#文件打包和压缩命令" class="headerlink" title="文件打包和压缩命令"></a>文件打包和压缩命令</h2><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>xz</td>
<td>使用LZMA算法的高性能压缩/解压工具</td>
</tr>
<tr>
<td>gzip</td>
<td>流行的GUN gzip数据压缩/解压程序</td>
</tr>
<tr>
<td>bzip2</td>
<td>免费的，无专利的高性能数据压缩工具</td>
</tr>
<tr>
<td>zip/unzip</td>
<td>与WinZIP兼容的压缩/解压工具</td>
</tr>
<tr>
<td>rar</td>
<td>与WinRAR兼容的压缩/解压工具</td>
</tr>
<tr>
<td>7za</td>
<td>使用LZMA算法的高性能压缩/解压工具</td>
</tr>
<tr>
<td>tar</td>
<td>文件打包、归档工具</td>
</tr>
</tbody></table>
<h3 id="常用的压缩方式详解"><a href="#常用的压缩方式详解" class="headerlink" title="常用的压缩方式详解"></a>常用的压缩方式详解</h3><h4 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h4><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">语法</th>
<th align="left">参数</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">tar</td>
<td align="left">tar [-cxzjvf] 压缩打包文档的名称 欲打包目录</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-c</td>
<td align="left">建立一个归档文件的参数指令</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-x</td>
<td align="left">解开一个归档文件的参数指令</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-z</td>
<td align="left">是否需要用 gzip 压缩</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-j</td>
<td align="left">是否需要用 bzip2 压缩</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-v</td>
<td align="left">压缩的过程中显示文件</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-f</td>
<td align="left">使用档名，在 f 之后要立即接档名</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-tf</td>
<td align="left">查看归档文件里面的文件</td>
</tr>
</tbody></table>
<p><strong>例子：</strong></p>
<p>​    </p>
<ul>
<li>压缩文件夹：<code>tar -zcvf test.tar.gz /test/</code></li>
<li>打包多个文件  <code>tar -zcvf test.tar.gz  test1.txt test2.txt</code></li>
<li>解压文件夹到当前目录：<code>tar -zxvf test.tar.gz</code></li>
<li>解压到指定目录 <code>tar -zxvf test.tar.gz -C  /test/</code></li>
</ul>
<h4 id="gzip-gunzip"><a href="#gzip-gunzip" class="headerlink" title="gzip/gunzip"></a>gzip/gunzip</h4><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">语法</th>
<th align="left">参数</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">gzip</td>
<td align="left">gzip [选项] 压缩（解压缩）的文件名</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-d</td>
<td align="left">解压缩</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-l</td>
<td align="left">对每个压缩文件，显示压缩文件的大小，未压缩文件的大小，压缩比，未压缩文件的名字</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-v</td>
<td align="left">对每一个压缩和解压的文件，显示文件名和压缩比</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-num</td>
<td align="left">用指定的数字num调整压缩的速度，-1或–fast表示最快压缩方法（低压缩比），-9或–best表示最慢压缩方法（高压缩比）。系统缺省值为6</td>
</tr>
<tr>
<td align="left">gunzip</td>
<td align="left">解压文件</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<p>说明：压缩文件后缀为 gz</p>
<p>​                gzip对文件进行压缩后，不会保留原来的文件</p>
<h4 id="bzip2"><a href="#bzip2" class="headerlink" title="bzip2"></a>bzip2</h4><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">语法</th>
<th align="left">参数</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">bzip2</td>
<td align="left">bzip2 [-cdz]</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-d</td>
<td align="left">解压缩</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-z</td>
<td align="left">压缩参数</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">-num</td>
<td align="left">用指定的数字num调整压缩的速度，-1或–fast表示最快压缩方法（低压缩比），-9或–best表示最慢压缩方法（高压缩比）。系统缺省值为6</td>
</tr>
</tbody></table>
<p>说明：压缩文件后缀为 bz2</p>
<h2 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h2><h3 id="vi-vim运行模式"><a href="#vi-vim运行模式" class="headerlink" title="vi/vim运行模式"></a>vi/vim运行模式</h3><ul>
<li>普通模式：等待编辑命令输入</li>
<li>编辑模式：普通模式下，输入 <code>i</code> 进入插入模式，插入文本信息</li>
<li>命令模式：在编辑模式下，输入 <code>:</code> 进行命令模式</li>
</ul>
<h4 id="普通模式"><a href="#普通模式" class="headerlink" title="普通模式"></a>普通模式</h4><table>
<thead>
<tr>
<th>操作</th>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>移动</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>G</td>
<td>移动到文档的最后一行</td>
</tr>
<tr>
<td></td>
<td>nG</td>
<td>n为数字，移动到这个文档的第n行。例如20G则会移动到这个文档的第20行</td>
</tr>
<tr>
<td></td>
<td>gg</td>
<td>移动到这个文档的第一行，相当于1G</td>
</tr>
<tr>
<td>翻页</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>Crtl+f</td>
<td>屏幕向下移动一页，相当于Page Down</td>
</tr>
<tr>
<td></td>
<td>Crtl+b</td>
<td>屏幕向上移动一页，相当于Page Up</td>
</tr>
<tr>
<td></td>
<td>Ctrl+d</td>
<td>屏幕向下移动半页</td>
</tr>
<tr>
<td></td>
<td>Ctrl+u</td>
<td>屏幕向上移动半页</td>
</tr>
<tr>
<td>搜索</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>/</td>
<td>向光标之 下寻找，例如/word，向下查找名称为word的字符串</td>
</tr>
<tr>
<td></td>
<td>?</td>
<td>向光标之 上寻找，例如?word，向上查找名称为word的字符串</td>
</tr>
<tr>
<td></td>
<td>n</td>
<td>命令行下/关键字，回车查找，输入n就是查找下一个</td>
</tr>
<tr>
<td></td>
<td>N</td>
<td>反向查找</td>
</tr>
<tr>
<td>删除</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>x</td>
<td>删除光标所在的字符</td>
</tr>
<tr>
<td></td>
<td>dd</td>
<td>删除游标所在的那一行（常用）</td>
</tr>
<tr>
<td></td>
<td>ndd</td>
<td>n为数字，删除光标所在的向下n行</td>
</tr>
<tr>
<td>复制</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>yy</td>
<td>复制游标所在的那一行</td>
</tr>
<tr>
<td></td>
<td>nyy</td>
<td>n为数字，复制光标所在的向下n行</td>
</tr>
<tr>
<td>粘贴</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>p</td>
<td>粘帖在下一行</td>
</tr>
<tr>
<td></td>
<td>P</td>
<td>P粘贴在前一行</td>
</tr>
<tr>
<td>取消</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>u</td>
<td>取消上一次编辑操作(undo)</td>
</tr>
</tbody></table>
<h4 id="编辑模式"><a href="#编辑模式" class="headerlink" title="编辑模式"></a>编辑模式</h4><p>编辑模式主要用于文本的编辑。该模式下用户输入的任何字符都被作为文件的内容保存起来，并在屏幕上显示出来。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>在当前光标位置之前插入文本</td>
</tr>
<tr>
<td>I</td>
<td>在当前行的开头插入文本</td>
</tr>
<tr>
<td>a</td>
<td>在当前光标位置之后插入文本</td>
</tr>
<tr>
<td>A</td>
<td>在当前行的末尾插入文本</td>
</tr>
<tr>
<td>o</td>
<td>在当前位置下面创建一行</td>
</tr>
<tr>
<td>O</td>
<td>在当前位置上面创建一行</td>
</tr>
</tbody></table>
<h4 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h4><p>Normal 模式下，用户按冒号 <code>:</code>即可进入 Command 模式，此时 vim 会在显示窗口的最后一行 (屏幕的最后一行) 显示一个 “:” 作为 Command 模式的提示符，等待输入命令。</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>存储、离开</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>:w</td>
<td>保存当前编辑文件，但并不退出</td>
</tr>
<tr>
<td></td>
<td>:w!</td>
<td>若属性为只读时，强制写入该文档。</td>
</tr>
<tr>
<td></td>
<td>:q</td>
<td>退出vi</td>
</tr>
<tr>
<td></td>
<td><code>:q!</code></td>
<td>不存盘强制退出</td>
</tr>
<tr>
<td></td>
<td><code>:wq</code></td>
<td>用于存盘退出</td>
</tr>
<tr>
<td></td>
<td>:wq!</td>
<td>强制存盘并退出</td>
</tr>
<tr>
<td></td>
<td>ZZ</td>
<td>用于存盘退出Vi</td>
</tr>
<tr>
<td></td>
<td>:w[filename]</td>
<td>另存文档</td>
</tr>
<tr>
<td>set 命令</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>:set ic</code></td>
<td>搜索时忽略大小写。</td>
</tr>
<tr>
<td></td>
<td>:set ai</td>
<td>设置自动缩进（自动对齐）。</td>
</tr>
<tr>
<td></td>
<td>:set noai</td>
<td>取消自动缩进（自动对齐）</td>
</tr>
<tr>
<td></td>
<td><code>:set nu</code></td>
<td>显示行号。</td>
</tr>
<tr>
<td></td>
<td><code>:set nonumber</code></td>
<td>在编辑文件不显示行号</td>
</tr>
<tr>
<td></td>
<td>:set sw</td>
<td>设置缩进的空格数，例如，将缩进空格数设置为4：:set sw=4。</td>
</tr>
<tr>
<td></td>
<td>:set ws</td>
<td>循环搜索：如果直到文件末尾也没有查找到指定字符，那么会回到开头继续查找。</td>
</tr>
<tr>
<td></td>
<td>:set wm</td>
<td>设置自动换行，例如，设置距离边际2个字符时换行：:set wm=2 。</td>
</tr>
</tbody></table>
<h2 id="Linux-用户和组管理"><a href="#Linux-用户和组管理" class="headerlink" title="Linux 用户和组管理"></a>Linux 用户和组管理</h2><p>Linux 操作系统是一个多用户操作系统，它允许多用户同时登录到系统上并使用资源。系统会根据账户来区分每个用户的文件，进程，任务和工作环境，使得每个用户工作都不受干扰。</p>
<p>任何一个使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统</p>
<p>linux的用户需要至少属于一个组</p>
<h3 id="用户和组管理相关命令"><a href="#用户和组管理相关命令" class="headerlink" title="用户和组管理相关命令"></a>用户和组管理相关命令</h3><h4 id="用户管理常用命令"><a href="#用户管理常用命令" class="headerlink" title="用户管理常用命令"></a>用户管理常用命令</h4><table>
<thead>
<tr>
<th>操作</th>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>添加用户</td>
<td>useradd [选项] 用户名</td>
<td></td>
</tr>
<tr>
<td></td>
<td>useradd -u (UID号)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>useradd -p 口令 用户名</td>
<td></td>
</tr>
<tr>
<td></td>
<td>useradd -g 用户组 用户名</td>
<td></td>
</tr>
<tr>
<td></td>
<td>useradd -s (SHELL)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>useradd -d (用户目录)</td>
<td></td>
</tr>
<tr>
<td>编辑用户</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>usermod -u (新UID)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>usermod -d (用户目录)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>usermod -g (组名)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>usermod -s (SHELL)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>usermod -p (新口令)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>usermod -l (新登录名)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>usermod -L (锁定用户账号密码)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>usermod -U (解锁用户账号)</td>
<td></td>
</tr>
<tr>
<td>删除用户</td>
<td>userdel 用户名 (删除用户账号)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>userdel -r 删除账号时同时删除目录</td>
<td></td>
</tr>
<tr>
<td>切换用户</td>
<td>su  -切换用户名</td>
<td></td>
</tr>
</tbody></table>
<h4 id="口令维护"><a href="#口令维护" class="headerlink" title="口令维护"></a>口令维护</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">passwd 用户账户名 (设置用户口令)</span><br><span class="line">passwd -l 用户账户名 (锁定用户账户)</span><br><span class="line">passwd -u 用户账户名 (解锁用户账户)</span><br><span class="line">passwd -d 用户账户名 (删除账户口令)</span><br><span class="line">gpasswd -a 用户账户名 组账户名 (将指定用户添加到指定组)</span><br><span class="line">gpasswd -d 用户账户名 组账户名 (将用户从指定组中删除)</span><br><span class="line">gpasswd -A 用户账户名 组账户名 (将用户指定为组的管理员)</span><br></pre></td></tr></table></figure>

<h4 id="组账户维护"><a href="#组账户维护" class="headerlink" title="组账户维护"></a>组账户维护</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">groupadd 组账户名 (创建新组)</span><br><span class="line">groupadd -g 指定组GID</span><br><span class="line">groupmod -g 更改组的GID</span><br><span class="line">groupmod -n 更改组账户名</span><br><span class="line">groupdel 组账户名 (删除指定组账户)</span><br></pre></td></tr></table></figure>

<h4 id="用户和组状态"><a href="#用户和组状态" class="headerlink" title="用户和组状态"></a>用户和组状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">su 用户名(切换用户账户)</span><br><span class="line">id 用户名(显示用户的UID，GID)</span><br><span class="line">whoami (显示当前用户名称)</span><br><span class="line">groups (显示用户所属组)</span><br></pre></td></tr></table></figure>

<h3 id="账户系统文件说明"><a href="#账户系统文件说明" class="headerlink" title="账户系统文件说明"></a>账户系统文件说明</h3><h4 id="etc-passwd"><a href="#etc-passwd" class="headerlink" title="/etc/passwd"></a>/etc/passwd</h4><p>每一行代表一个账号，众多账号是系统正常运行所必须的，例如 bin，nobody 每行定义一个用户账户，此文件对所有用户可读。每行账户包含如下信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0:root:/root:/bin/bash</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>用户名：</strong> 就是账号，用来对应 UID，root UID 是 0。</li>
<li><strong>口令：</strong> 密码，早期 UNIX 系统密码存在此字段，由于此文件所有用户都可以读取，密码容易泄露，后来这个字段数据就存放到 /etc/shadow 中，这里只能看到 X。</li>
<li><strong>用户标示号（UID）：</strong> 系统内唯一，root 用户的 UID 为 0，普通用户从 1000 开始，1-999 是系统的标准账户，500-65536 是可登陆账号。</li>
<li><strong>组标示号（GID）：</strong> 与 /etc/group 相关用来规定组名和 GID 相对应。</li>
<li><strong>注释：</strong> 注释账号</li>
<li><strong>宿主目录（主文件夹）：</strong> 用户登录系统后所进入的目录 root 在 /root/itcast</li>
<li><strong>命令解释器（shell）：</strong> 指定该用户使用的 shell ，默认的是 /bin/bash</li>
</ul>
<h4 id="etc-shadow"><a href="#etc-shadow" class="headerlink" title="/etc/shadow"></a>/etc/shadow</h4><p>为了增加系统的安全性，用户口令通常用 shadow passwords 保护。只有 root 可读。每行包含如下信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root:$6$Reu571.V$Ci/kd.OTzaSGU.TagZ5KjYx2MLzQv2IkZ24E1.yeTT3Pp4o/yniTjus/rRaJ92Z18MVy6suf1W5uxxurqssel.:17465:0:99999:7:::</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>账号名称：</strong> 需要和 /etc/passwd 一致。</p>
</li>
<li><p>密码：</p>
<p>经过加密，虽然加密，但不表示不会被破解，该文件默认权限如下：</p>
<ul>
<li>-rw——- 1 root root 1560 Oct 26 17:20 passwd-</li>
<li>只有root能都读写</li>
</ul>
</li>
<li><p><strong>最近修改密码日期：</strong> 从1970-1-1起，到用户最后一次更改口令的天数</p>
</li>
<li><p><strong>密码最小时间间隔：</strong> 从1970-1-1起，到用户可以更改口令的天数</p>
</li>
<li><p><strong>密码最大时间间隔：</strong> 从1970-1-1起，必须更改的口令天数</p>
</li>
<li><p><strong>密码到期警告时间：</strong> 在口令过期之前几天通知</p>
</li>
<li><p><strong>密码到期后账号宽限时间</strong></p>
</li>
<li><p><strong>密码到期禁用账户时间：</strong> 在用户口令过期后到禁用账户的天数</p>
</li>
<li><p><strong>保留</strong></p>
</li>
</ul>
<h4 id="etc-group"><a href="#etc-group" class="headerlink" title="/etc/group"></a>/etc/group</h4><p>用户组的配置文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>用户组名称</strong></li>
<li><strong>用户组密码：</strong> 给用户组管理员使用，通常不用</li>
<li><strong>GID：</strong> 用户组的ID</li>
<li><strong>此用户支持的账号名称：</strong> 一个账号可以加入多个用户组，例如想要 itcast 加入 root 这个用户组，将该账号填入该字段即可 root❌0:root, icast 将用户进行分组是 Linux 对用户进行管理及控制访问权限的一种手段。一个中可以有多个用户，一个用户可以同时属于多个组。该文件对所有用户可读。</li>
</ul>
<h4 id="etc-gshadow"><a href="#etc-gshadow" class="headerlink" title="/etc/gshadow"></a>/etc/gshadow</h4><p>该文件用户定义用户组口令，组管理员等信息只有root用户可读。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root:\*::</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>用户组名</strong></li>
<li><strong>密码列</strong></li>
<li><strong>用户组管理员的账号</strong></li>
<li><strong>用户组所属账号</strong></li>
</ul>
<h2 id="Linux-文件权限管理"><a href="#Linux-文件权限管理" class="headerlink" title="Linux 文件权限管理"></a>Linux 文件权限管理</h2><h3 id="查看文件和目录的权限"><a href="#查看文件和目录的权限" class="headerlink" title="查看文件和目录的权限"></a>查看文件和目录的权限</h3><p>ls –al<code>使用 ls 不带参数只显示文件名称，通过</code>ls –al` 可以显示文件或者目录的权限信息。</p>
<p><code>ls -l 文件名</code> 显示信息包括：文件类型 (<code>d</code> 目录，<code>-</code> 普通文件，<code>l</code> 链接文件)，文件权限，文件的用户，文件的所属组，文件的大小，文件的创建时间，文件的名称</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r-- 1 lusifer lusifer 675 Oct 26 17:20 .profile</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-</code>：普通文件</li>
<li><code>rw-</code>：说明用户 lusifer 有读写权限，没有运行权限</li>
<li><code>r--</code>：表示用户组 lusifer 只有读权限，没有写和运行的权限</li>
<li><code>r--</code>：其他用户只有读权限，没有写权限和运行的权限</li>
</ul>
<table>
<thead>
<tr>
<th align="left">-rw-r–r–</th>
<th align="left">1</th>
<th align="left">lusifer</th>
<th align="left">lusifer</th>
<th align="left">675</th>
<th align="left">Oct 26 17:20</th>
<th align="left">.profile</th>
</tr>
</thead>
<tbody><tr>
<td align="left">文档类型及权限</td>
<td align="left">连接数</td>
<td align="left">文档所属用户</td>
<td align="left">文档所属组</td>
<td align="left">文档大小</td>
<td align="left">文档最后被修改日期</td>
<td align="left">文档名称</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">-</th>
<th align="left">rw-</th>
<th align="left">r–</th>
<th align="left">r–</th>
</tr>
</thead>
<tbody><tr>
<td align="left">文档类型</td>
<td align="left">文档所有者权限（user）</td>
<td align="left">文档所属用户组权限（group）</td>
<td align="left">其他用户权限（other）</td>
</tr>
</tbody></table>
<h4 id="文档类型"><a href="#文档类型" class="headerlink" title="文档类型"></a>文档类型</h4><ul>
<li><code>d</code> 表示目录</li>
<li><code>l</code> 表示软连接</li>
<li><code>–</code> 表示文件</li>
<li><code>c</code> 表示串行端口字符设备文件</li>
<li><code>b</code> 表示可供存储的块设备文件</li>
<li>余下的字符 3 个字符为一组。<code>r</code> 只读，<code>w</code> 可写，<code>x</code> 可执行，<code>-</code> 表示无此权限</li>
</ul>
<h4 id="连接数"><a href="#连接数" class="headerlink" title="连接数"></a>连接数</h4><p>指有多少个文件指向同一个索引节点</p>
<h4 id="文档所属用户和所属组"><a href="#文档所属用户和所属组" class="headerlink" title="文档所属用户和所属组"></a>文档所属用户和所属组</h4><p>就是文档属于哪个用户和用户组。文件所属用户和组是可以更改的</p>
<h4 id="文档大小"><a href="#文档大小" class="headerlink" title="文档大小"></a>文档大小</h4><p>默认是 bytes</p>
<h3 id="更改操作权限"><a href="#更改操作权限" class="headerlink" title="更改操作权限"></a>更改操作权限</h3><h4 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h4><p>是 change owner 的意思，主要作用就是改变文件或者目录所有者，所有者包含用户和用户组</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown [-R] 用户名称 文件或者目录</span><br><span class="line">chown [-R] 用户名称 用户组名称 文件或目录</span><br></pre></td></tr></table></figure>

<p>-R：进行递归式的权限更改，将目录下的所有文件、子目录更新为指定用户组权限</p>
<h4 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h4><p>改变访问权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod [who] [+ | - | =] [mode] 文件名</span><br></pre></td></tr></table></figure>

<p>表示操作对象可以是以下字母的一个或者组合</p>
<ul>
<li>u：用户 user</li>
<li>g：用户组 group</li>
<li>o：表示其他用户</li>
<li>a：表示所有用户是系统默认的</li>
</ul>
<h4 id="操作符号"><a href="#操作符号" class="headerlink" title="操作符号"></a>操作符号</h4><ul>
<li>+：表示添加某个权限</li>
<li>-：表示取消某个权限</li>
<li>=：赋予给定的权限，取消文档以前的所有权限</li>
</ul>
<h4 id="mode"><a href="#mode" class="headerlink" title="mode"></a>mode</h4><p>表示可执行的权限，可以是 r、w、x</p>
<h4 id="文件名"><a href="#文件名" class="headerlink" title="文件名"></a>文件名</h4><p>文件名可以使空格分开的文件列表</p>
<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod u=rwx,g+r,o+r test.txt </span><br></pre></td></tr></table></figure>

<h3 id="数字设定法"><a href="#数字设定法" class="headerlink" title="数字设定法"></a>数字设定法</h3><p>数字设定法中数字表示的含义</p>
<ul>
<li>0 表示没有任何权限</li>
<li>1 表示有可执行权限 = <code>x</code></li>
<li>2 表示有可写权限 = <code>w</code></li>
<li>4 表示有可读权限 = <code>r</code></li>
</ul>
<p>也可以用数字来表示权限如 chmod 755 file_name</p>
<table>
<thead>
<tr>
<th align="left">r w x</th>
<th align="left">r – x</th>
<th align="left">r - x</th>
</tr>
</thead>
<tbody><tr>
<td align="left">4 2 1</td>
<td align="left">4 - 1</td>
<td align="left">4 - 1</td>
</tr>
<tr>
<td align="left">user</td>
<td align="left">group</td>
<td align="left">others</td>
</tr>
</tbody></table>
<p>若要 rwx 属性则 4+2+1=7</p>
<p>若要 rw- 属性则 4+2=6</p>
<p>若要 r-x 属性则 4+1=5</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 765 test.txt</span><br></pre></td></tr></table></figure>

<h2 id="Linux磁盘管理"><a href="#Linux磁盘管理" class="headerlink" title="Linux磁盘管理"></a>Linux磁盘管理</h2><p>Linux磁盘管理好坏直接关系到整个系统的性能问题。</p>
<p>Linux磁盘管理常用三个命令为df、du和fdisk。</p>
<ul>
<li>df：列出文件系统的整体磁盘使用量</li>
<li>du：检查磁盘空间使用量</li>
<li>fdisk：用于磁盘分区</li>
</ul>
<h3 id="df"><a href="#df" class="headerlink" title="df"></a>df</h3><p>df命令参数功能：检查文件系统的磁盘空间占用情况。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。</p>
<p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df [-ahikHTm] [目录或文件名]</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-a ：列出所有的文件系统，包括系统特有的 /proc 等文件系统；</li>
<li>-k ：以 KBytes 的容量显示各文件系统；</li>
<li>-m ：以 MBytes 的容量显示各文件系统；</li>
<li>-h ：以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；</li>
<li>-H ：以 M=1000K 取代 M=1024K 的进位方式；</li>
<li>-T ：显示文件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；</li>
<li>-i ：不用硬盘容量，而以 inode 的数量来显示</li>
</ul>
<blockquote>
<p>推荐：  df  -h</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># df -h</span></span><br><span class="line">Filesystem            Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/hdc2             9.5G  3.7G  5.4G  41% /</span><br><span class="line">/dev/hdc3             4.8G  139M  4.4G   4% /home</span><br><span class="line">/dev/hdc1              99M   11M   83M  12% /boot</span><br><span class="line">tmpfs                 363M     0  363M   0% /dev/shm</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>显示某个目录下的可用磁盘容量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># df -h /etc</span></span><br><span class="line">Filesystem            Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/hdc2             9.5G  3.7G  5.4G  41% /</span><br></pre></td></tr></table></figure>

<h3 id="du"><a href="#du" class="headerlink" title="du"></a>du</h3><p>Linux du命令也是查看使用空间的，但是与df命令不同的是Linux du命令是对文件和目录磁盘使用的空间的查看，还是和df命令有一些区别的，这里介绍Linux du命令。</p>
<p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du [-ahskm] 文件或目录名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-a ：列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。</li>
<li>-h ：以人们较易读的容量格式 (G/M) 显示；</li>
<li>-s ：列出总量而已，而不列出每个各别的目录占用容量；</li>
<li>-S ：不包括子目录下的总计，与 -s 有点差别。</li>
<li>-k ：以 KBytes 列出容量显示；</li>
<li>-m ：以 MBytes 列出容量显示；</li>
</ul>
<h3 id="fdisk"><a href="#fdisk" class="headerlink" title="fdisk"></a>fdisk</h3><p>fdisk 是 Linux 的磁盘分区表操作工具。</p>
<p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk [-l] 装置名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-l ：输出后面接的装置所有的分区内容。若仅有 fdisk -l 时， 则系统将会把整个系统内能够搜寻到的装置的分区均列出来。</li>
</ul>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>出你系统中的根目录所在磁盘，并查阅该硬盘内的相关信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># df /            &lt;==注意：重点在找出磁盘文件名而已</span></span><br><span class="line">Filesystem           1K-blocks      Used Available Use% Mounted on</span><br><span class="line">/dev/hdc2              9920624   3823168   5585388  41% /</span><br><span class="line"></span><br><span class="line">[root@www ~]<span class="comment"># fdisk /dev/hdc  &lt;==仔细看，不要加上数字喔！</span></span><br><span class="line">The number of cylinders <span class="keyword">for</span> this disk is <span class="built_in">set</span> to 5005.</span><br><span class="line">There is nothing wrong with that, but this is larger than 1024,</span><br><span class="line">and could <span class="keyword">in</span> certain setups cause problems with:</span><br><span class="line">1) software that runs at boot time (e.g., old versions of LILO)</span><br><span class="line">2) booting and partitioning software from other OSs</span><br><span class="line">   (e.g., DOS FDISK, OS/2 FDISK)</span><br><span class="line"></span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>):     &lt;==等待你的输入！</span><br></pre></td></tr></table></figure>

<p>输入 m 后，就会看到底下这些命令介绍</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): m   &lt;== 输入 m 后，就会看到底下这些命令介绍</span><br><span class="line">Command action</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">   d   delete a partition            &lt;==删除一个partition</span><br><span class="line">   l   list known partition types</span><br><span class="line">   m   <span class="built_in">print</span> this menu</span><br><span class="line">   n   add a new partition           &lt;==新增一个partition</span><br><span class="line">   o   create a new empty DOS partition table</span><br><span class="line">   p   <span class="built_in">print</span> the partition table     &lt;==在屏幕上显示分割表</span><br><span class="line">   q   quit without saving changes   &lt;==不储存离开fdisk程序</span><br><span class="line">   s   create a new empty Sun disklabel</span><br><span class="line">   t   change a partition<span class="string">&#x27;s system id</span></span><br><span class="line"><span class="string">   u   change display/entry units</span></span><br><span class="line"><span class="string">   v   verify the partition table</span></span><br><span class="line"><span class="string">   w   write table to disk and exit  &lt;==将刚刚的动作写入分割表</span></span><br><span class="line"><span class="string">   x   extra functionality (experts only)</span></span><br></pre></td></tr></table></figure>

<p>离开 fdisk 时按下 <code>q</code>，那么所有的动作都不会生效！相反的， 按下<code>w</code>就是动作生效的意思。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): p  &lt;== 这里可以输出目前磁盘的状态</span><br><span class="line"></span><br><span class="line">Disk /dev/hdc: 41.1 GB, 41174138880 bytes        &lt;==这个磁盘的文件名与容量</span><br><span class="line">255 heads, 63 sectors/track, 5005 cylinders      &lt;==磁头、扇区与磁柱大小</span><br><span class="line">Units = cylinders of 16065 * 512 = 8225280 bytes &lt;==每个磁柱的大小</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/hdc1   *           1          13      104391   83  Linux</span><br><span class="line">/dev/hdc2              14        1288    10241437+  83  Linux</span><br><span class="line">/dev/hdc3            1289        1925     5116702+  83  Linux</span><br><span class="line">/dev/hdc4            1926        5005    24740100    5  Extended</span><br><span class="line">/dev/hdc5            1926        2052     1020096   82  Linux swap / Solaris</span><br><span class="line"><span class="comment"># 装置文件名 启动区否 开始磁柱    结束磁柱  1K大小容量 磁盘分区槽内的系统</span></span><br><span class="line"></span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): q</span><br></pre></td></tr></table></figure>

<p>想要不储存离开吗？按下 q 就对了！不要随便按 w 啊！</p>
<p>使用 <code>p</code> 可以列出目前这颗磁盘的分割表信息，这个信息的上半部在显示整体磁盘的状态。</p>
<h3 id="磁盘格式化"><a href="#磁盘格式化" class="headerlink" title="磁盘格式化"></a>磁盘格式化</h3><p>磁盘分割完毕后自然就是要进行文件系统的格式化，格式化的命令非常的简单，使用 <code>mkfs</code>（make filesystem） 命令。</p>
<p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs [-t 文件系统格式] 装置文件名</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-t ：可以接文件系统格式，例如 ext3, ext2, vfat 等(系统有支持才会生效)</li>
</ul>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><p>查看 mkfs 支持的文件格式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># mkfs[tab][tab]</span></span><br><span class="line">mkfs         mkfs.cramfs  mkfs.ext2    mkfs.ext3    mkfs.msdos   mkfs.vfat</span><br></pre></td></tr></table></figure>

<p>将分区 /dev/hdc6（可指定你自己的分区） 格式化为 ext3 文件系统：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># mkfs -t ext3 /dev/hdc6</span></span><br><span class="line">mke2fs 1.39 (29-May-2006)</span><br><span class="line">Filesystem label=                &lt;==这里指的是分割槽的名称(label)</span><br><span class="line">OS <span class="built_in">type</span>: Linux</span><br><span class="line">Block size=4096 (<span class="built_in">log</span>=2)          &lt;==block 的大小配置为 4K </span><br><span class="line">Fragment size=4096 (<span class="built_in">log</span>=2)</span><br><span class="line">251392 inodes, 502023 blocks     &lt;==由此配置决定的inode/block数量</span><br><span class="line">25101 blocks (5.00%) reserved <span class="keyword">for</span> the super user</span><br><span class="line">First data block=0</span><br><span class="line">Maximum filesystem blocks=515899392</span><br><span class="line">16 block groups</span><br><span class="line">32768 blocks per group, 32768 fragments per group</span><br><span class="line">15712 inodes per group</span><br><span class="line">Superblock backups stored on blocks:</span><br><span class="line">        32768, 98304, 163840, 229376, 294912</span><br><span class="line"></span><br><span class="line">Writing inode tables: <span class="keyword">done</span></span><br><span class="line">Creating journal (8192 blocks): <span class="keyword">done</span> &lt;==有日志记录</span><br><span class="line">Writing superblocks and filesystem accounting information: <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">This filesystem will be automatically checked every 34 mounts or</span><br><span class="line">180 days, whichever comes first.  Use tune2fs -c or -i to override.</span><br><span class="line"><span class="comment"># 这样就创建起来我们所需要的 Ext3 文件系统了！简单明了！</span></span><br></pre></td></tr></table></figure>

<h3 id="磁盘检验"><a href="#磁盘检验" class="headerlink" title="磁盘检验"></a>磁盘检验</h3><p>fsck（file system check）用来检查和维护不一致的文件系统。</p>
<p>若系统掉电或磁盘发生问题，可利用fsck命令对文件系统进行检查。</p>
<p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fsck [-t 文件系统] [-ACay] 装置名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-t : 给定档案系统的型式，若在 /etc/fstab 中已有定义或 kernel 本身已支援的则不需加上此参数</li>
<li>-s : 依序一个一个地执行 fsck 的指令来检查</li>
<li>-A : 对/etc/fstab 中所有列出来的 分区（partition）做检查</li>
<li>-C : 显示完整的检查进度</li>
<li>-d : 打印出 e2fsck 的 debug 结果</li>
<li>-p : 同时有 -A 条件时，同时有多个 fsck 的检查一起执行</li>
<li>-R : 同时有 -A 条件时，省略 / 不检查</li>
<li>-V : 详细显示模式</li>
<li>-a : 如果检查有错则自动修复</li>
<li>-r : 如果检查有错则由使用者回答是否修复</li>
<li>-y : 选项指定检测每个文件是自动输入yes，在不确定那些是不正常的时候，可以执行 # fsck -y 全部检查修复。</li>
</ul>
<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><p>强制检测 /dev/hdc6 分区:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># fsck -C -f -t ext3 /dev/hdc6 </span></span><br><span class="line">fsck 1.39 (29-May-2006)</span><br><span class="line">e2fsck 1.39 (29-May-2006)</span><br><span class="line">Pass 1: Checking inodes, blocks, and sizes</span><br><span class="line">Pass 2: Checking directory structure</span><br><span class="line">Pass 3: Checking directory connectivity</span><br><span class="line">Pass 4: Checking reference counts</span><br><span class="line">Pass 5: Checking group summary information</span><br><span class="line">vbird_logical: 11/251968 files (9.1% non-contiguous), 36926/1004046 blocks</span><br></pre></td></tr></table></figure>

<p>如果没有加上 -f 的选项，则由于这个文件系统不曾出现问题，检查的经过非常快速！若加上 -f 强制检查，才会一项一项的显示过程。</p>
<h3 id="磁盘挂载与卸除"><a href="#磁盘挂载与卸除" class="headerlink" title="磁盘挂载与卸除"></a>磁盘挂载与卸除</h3><p>Linux 的磁盘挂载使用 <code>mount</code> 命令，卸载使用 <code>umount</code> 命令。</p>
<p>磁盘挂载语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount [-t 文件系统] [-L Label名] [-o 额外选项] [-n]  装置文件名  挂载点</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># mkdir /mnt/hdc6</span></span><br><span class="line">[root@www ~]<span class="comment"># mount /dev/hdc6 /mnt/hdc6</span></span><br><span class="line">[root@www ~]<span class="comment"># df</span></span><br><span class="line">Filesystem           1K-blocks      Used Available Use% Mounted on</span><br><span class="line">.....中间省略.....</span><br><span class="line">/dev/hdc6              1976312     42072   1833836   3% /mnt/hdc6</span><br></pre></td></tr></table></figure>

<p>磁盘卸载命令 <code>umount</code> 语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount [-fn] 装置文件名或挂载点</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-f ：强制卸除！可用在类似网络文件系统 (NFS) 无法读取到的情况下；</li>
<li>-n ：不升级 /etc/mtab 情况下卸除。</li>
</ul>
<p>卸载/dev/hdc6</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]<span class="comment"># umount /dev/hdc6     </span></span><br></pre></td></tr></table></figure>

<p>Linux 系统中“一切皆文件”，所有文件都放置在以根目录为树根的树形目录结构中。在 Linux 看来，任何硬件设备也都是文件，它们各有自己的一套文件系统（文件目录结构）。</p>
<p>因此产生的问题是，当在 Linux 系统中使用这些硬件设备时，只有将Linux本身的文件目录与硬件设备的文件目录合二为一，硬件设备才能为我们所用。合二为一的过程称为“挂载”。</p>
<p>如果不挂载，通过Linux系统中的图形界面系统可以查看找到硬件设备，但命令行方式无法找到。</p>
<p>挂载，指的就是将设备文件中的顶级目录连接到 Linux 根目录下的某一目录（最好是空目录），访问此目录就等同于访问设备文件。</p>
<p>纠正一个误区，并不是根目录下任何一个目录都可以作为挂载点，由于挂载操作会使得原有目录中文件被隐藏，因此根目录以及系统原有目录都不要作为挂载点，会造成系统异常甚至崩溃，挂载点最好是新建的空目录。</p>
<p>举个例子，我们想通过命令行访问某个 U 盘中的数据，图 1 所示为 U 盘文件目录结构和 Linux 系统中的文件目录结构。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190321/2-1Z321130921V9.gif"></p>
<p>图 1 中可以看到，目前 U 盘和 Linux 系统文件分属两个文件系统，还无法使用命令行找到 U 盘文件，需要将两个文件系统进行挂载。</p>
<p>接下来，我们在根目录下新建一个目录 /sdb-u，通过挂载命令将 U 盘文件系统挂载到此目录，挂载效果如图 2 所示。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190321/2-1Z321130I44B.gif"></p>
<p>可以看到，U 盘文件系统已经成为 Linux 文件系统目录的一部分，此时访问 /sdb-u/ 就等同于访问 U 盘。</p>
<p>前面讲过，根目录下的 /dev/ 目录文件负责所有的硬件设备文件，事实上，当 U 盘插入 Linux 后，系统也确实会给 U 盘分配一个目录文件（比如 sdb1），就位于 /dev/ 目录下（/dev/sdb1），但无法通过 /dev/sdb1/ 直接访问 U 盘数据，访问此目录只会提供给你此设备的一些基本信息（比如容量）。</p>
<h3 id="LVM"><a href="#LVM" class="headerlink" title="LVM"></a>LVM</h3><p>  LVM是 Logical Volume Manager（逻辑<a target="_blank" rel="noopener" href="http://baike.baidu.com/view/3796024.htm">卷管理</a>）的简写，它是Linux环境下对<a target="_blank" rel="noopener" href="http://baike.baidu.com/view/1514781.htm">磁盘分区</a>进行管理的一种机制。</p>
<h4 id="为什么使用LVM"><a href="#为什么使用LVM" class="headerlink" title="为什么使用LVM"></a>为什么使用LVM</h4><p>   直接使用fdisk分区挂载的话，随着时间的推移，数据量越来越大，硬盘空间越来越小，要想扩充容量的话，就必须挂载新硬盘然后做数据迁移，这就必然导致前台业务的停止，不符合企业需求，因此完美的解决方法应该是在零停机前提下可以自如对文件系统的大小进行调整，可以方便实现文件系统跨越不同磁盘和分区。Linux提供的逻辑盘卷管理（LVM，Logical Volume Manager）机制就是一个完美的解决方案。</p>
<p>​     LVM逻辑卷管理通过将底层物理硬盘抽象封装起来，以逻辑卷的形式表现给上层系统，逻辑卷的大小可以动态调整，而且不会丢失现有数据。新加入的硬盘也不会改变现有上层的逻辑卷，大大提高了磁盘管理的灵活性。</p>
<h4 id="LVM原理"><a href="#LVM原理" class="headerlink" title="LVM原理"></a>LVM原理</h4><p>先我们讨论以下几个LVM术语：</p>
<p>​     <strong>物理存储介质（The physical media****）</strong>：这里指系统的存储设备：硬盘，如：/dev/hda、/dev/sda等等，是存储系统最低层的存储单元。</p>
<p>​     <strong>物理卷（physical volume****）</strong>：物理卷就是指硬盘分区或从逻辑上与磁盘分区具有同样功能的设备(如RAID)，是LVM的基本存储逻辑块，但和基本的物理存储介质（如分区、磁盘等）比较，却包含有与LVM相关的管理参数。</p>
<p>​     <strong>卷组（Volume Group****）</strong>：LVM卷组类似于非LVM系统中的物理硬盘，其由物理卷组成。可以在卷组上创建一个或多个“LVM分区”（逻辑卷），LVM卷组由一个或多个物理卷组成。</p>
<p>​     <strong>逻辑卷（logical volume****）</strong>：LVM的逻辑卷类似于非LVM系统中的硬盘分区，在逻辑卷之上可以建立文件系统(比如/home或者/usr等)。</p>
<p>​     <strong>PE<strong><strong>（physical extent</strong></strong>）</strong>：每一个物理卷被划分为称为PE(Physical Extents)的基本单元，具有唯一编号的PE是可以被LVM寻址的最小单元。PE的大小是可配置的，默认为4MB。</p>
<p>​     <strong>LE<strong><strong>（logical extent</strong></strong>）</strong>：逻辑卷也被划分为被称为LE(Logical Extents) 的可被寻址的基本单位。在同一个卷组中，LE的大小和PE是相同的，并且一一对应。</p>
<p>​     一块硬盘（物理存储介质）被格式化为物理卷（<strong>physical volume</strong>）,其内部被分成若干个默认大小为4M的PE（physical extent），然后在PV的基础上创建卷组（<strong>Volume Group</strong>），可以把一个或者多个PV加到VG中，VG就好像一个空间池，假如多少个PV，VG就有多大的容量，最后基于VG创建逻辑卷（<strong>logical volume</strong>）  ，一个逻辑卷就是若干个PE，然后将LV格式化再挂载（将LV当成是分区）</p>
<p><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fs3.51cto.com%2Fwyfs02%2FM02%2F73%2FE7%2FwKiom1YJW-zwfDURAAFVqFhodiw260.jpg&refer=http%3A%2F%2Fs3.51cto.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1614688218&t=30f4337674f77310e0cea309c0e12e5a"></p>
<p><img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3301810329,2804647527&fm=26&gp=0.jpg"></p>
<p>​     1、物理磁盘被格式化为PV，空间被分为一个个PE</p>
<p>​     2、不同的PV加入同一个VG，不同PV的PE全部进入VG的PE池内</p>
<p>​     3、LV基于PE创建，大小为PE的整数倍，组成LV的PE可能自来不同的物理磁盘</p>
<p>​     4、LV现在就直接可以格式化后挂载使用了</p>
<p>​     5、LV的扩充缩减实际上就是增加或减少组成该LV的PE的数量，其过程不会丢失数据</p>
<h4 id="LVM常用命令"><a href="#LVM常用命令" class="headerlink" title="LVM常用命令"></a>LVM常用命令</h4><p><code>lvdisplay</code>（显示当前的 logical volume）</p>
<p><code>vgdisplay</code>（显示当前的 volume group）</p>
<p><strong>备注：</strong> 注意 <code>VG SIZE</code>，这里应该是你当前的可用空间大小，待扩容完毕，这里显示的应该是最终的大小</p>
<p><code>pvdisplay</code>（显示当前的 physical volume）</p>
<h4 id="LVM扩容"><a href="#LVM扩容" class="headerlink" title="LVM扩容"></a>LVM扩容</h4></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Kesen</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/system/linux/">http://example.com/system/linux/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Kesen’s Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/system/docker/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">docker</div></div></a></div><div class="next-post pull-right"><a href="/spring/ssm/"><img class="next-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ssm</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux"><span class="toc-number">1.</span> <span class="toc-text">Linux</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">Linux 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">安装</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.1.2.</span> <span class="toc-text">Linux的基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">Linux系统的组成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Shell%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">Shell的基本知识</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%AE%A1%E7%90%86"><span class="toc-number">1.2.</span> <span class="toc-text">Linux 远程控制管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OpenSSH"><span class="toc-number">1.2.2.</span> <span class="toc-text">OpenSSH</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.</span> <span class="toc-text">Linux 的目录结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="toc-number">1.3.1.</span> <span class="toc-text">概述</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%87%E4%BB%B6%E3%80%81%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.</span> <span class="toc-text">常用文件、目录操作命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%A8"><span class="toc-number">1.4.1.</span> <span class="toc-text">命令表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TIP"><span class="toc-number">1.4.2.</span> <span class="toc-text">TIP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.</span> <span class="toc-text">常用监控系统状态命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.1.</span> <span class="toc-text">显示进程信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ps-aux-%EF%BC%9A%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">ps -aux ：显示当前进程状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ps-ef"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">ps  -ef</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E6%83%85%E5%86%B5"><span class="toc-number">1.5.2.</span> <span class="toc-text">查看网络情况</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">常用选项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%85%B3%E6%9C%BA%E5%91%BD%E4%BB%A4"><span class="toc-number">1.6.</span> <span class="toc-text">开关机命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%90%AF"><span class="toc-number">1.6.1.</span> <span class="toc-text">重启</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA"><span class="toc-number">1.6.2.</span> <span class="toc-text">关机</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85%E5%92%8C%E5%8E%8B%E7%BC%A9%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.</span> <span class="toc-text">文件打包和压缩命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.1.</span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%8E%8B%E7%BC%A9%E6%96%B9%E5%BC%8F%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.7.2.</span> <span class="toc-text">常用的压缩方式详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#tar"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">tar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#gzip-gunzip"><span class="toc-number">1.7.2.2.</span> <span class="toc-text">gzip&#x2F;gunzip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bzip2"><span class="toc-number">1.7.2.3.</span> <span class="toc-text">bzip2</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">1.8.</span> <span class="toc-text">编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vi-vim%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.8.1.</span> <span class="toc-text">vi&#x2F;vim运行模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.8.1.1.</span> <span class="toc-text">普通模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.8.1.2.</span> <span class="toc-text">编辑模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.8.1.3.</span> <span class="toc-text">命令模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-number">1.9.</span> <span class="toc-text">Linux 用户和组管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-number">1.9.1.</span> <span class="toc-text">用户和组管理相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.9.1.1.</span> <span class="toc-text">用户管理常用命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%A3%E4%BB%A4%E7%BB%B4%E6%8A%A4"><span class="toc-number">1.9.1.2.</span> <span class="toc-text">口令维护</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E8%B4%A6%E6%88%B7%E7%BB%B4%E6%8A%A4"><span class="toc-number">1.9.1.3.</span> <span class="toc-text">组账户维护</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%8A%B6%E6%80%81"><span class="toc-number">1.9.1.4.</span> <span class="toc-text">用户和组状态</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%A6%E6%88%B7%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"><span class="toc-number">1.9.2.</span> <span class="toc-text">账户系统文件说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#etc-passwd"><span class="toc-number">1.9.2.1.</span> <span class="toc-text">&#x2F;etc&#x2F;passwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#etc-shadow"><span class="toc-number">1.9.2.2.</span> <span class="toc-text">&#x2F;etc&#x2F;shadow</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#etc-group"><span class="toc-number">1.9.2.3.</span> <span class="toc-text">&#x2F;etc&#x2F;group</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#etc-gshadow"><span class="toc-number">1.9.2.4.</span> <span class="toc-text">&#x2F;etc&#x2F;gshadow</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">1.10.</span> <span class="toc-text">Linux 文件权限管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E7%9A%84%E6%9D%83%E9%99%90"><span class="toc-number">1.10.1.</span> <span class="toc-text">查看文件和目录的权限</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.10.1.1.</span> <span class="toc-text">文档类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%95%B0"><span class="toc-number">1.10.1.2.</span> <span class="toc-text">连接数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E6%89%80%E5%B1%9E%E7%94%A8%E6%88%B7%E5%92%8C%E6%89%80%E5%B1%9E%E7%BB%84"><span class="toc-number">1.10.1.3.</span> <span class="toc-text">文档所属用户和所属组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E5%A4%A7%E5%B0%8F"><span class="toc-number">1.10.1.4.</span> <span class="toc-text">文档大小</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E6%93%8D%E4%BD%9C%E6%9D%83%E9%99%90"><span class="toc-number">1.10.2.</span> <span class="toc-text">更改操作权限</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#chown"><span class="toc-number">1.10.2.1.</span> <span class="toc-text">chown</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chmod"><span class="toc-number">1.10.2.2.</span> <span class="toc-text">chmod</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.10.2.3.</span> <span class="toc-text">操作符号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mode"><span class="toc-number">1.10.2.4.</span> <span class="toc-text">mode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%90%8D"><span class="toc-number">1.10.2.5.</span> <span class="toc-text">文件名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">1.10.2.6.</span> <span class="toc-text">例子</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E8%AE%BE%E5%AE%9A%E6%B3%95"><span class="toc-number">1.10.3.</span> <span class="toc-text">数字设定法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="toc-number">1.11.</span> <span class="toc-text">Linux磁盘管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#df"><span class="toc-number">1.11.1.</span> <span class="toc-text">df</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#du"><span class="toc-number">1.11.2.</span> <span class="toc-text">du</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fdisk"><span class="toc-number">1.11.3.</span> <span class="toc-text">fdisk</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.11.3.1.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">1.11.4.</span> <span class="toc-text">磁盘格式化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="toc-number">1.11.4.1.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%A3%80%E9%AA%8C"><span class="toc-number">1.11.5.</span> <span class="toc-text">磁盘检验</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-2"><span class="toc-number">1.11.5.1.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD%E4%B8%8E%E5%8D%B8%E9%99%A4"><span class="toc-number">1.11.6.</span> <span class="toc-text">磁盘挂载与卸除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LVM"><span class="toc-number">1.11.7.</span> <span class="toc-text">LVM</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8LVM"><span class="toc-number">1.11.7.1.</span> <span class="toc-text">为什么使用LVM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LVM%E5%8E%9F%E7%90%86"><span class="toc-number">1.11.7.2.</span> <span class="toc-text">LVM原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LVM%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.11.7.3.</span> <span class="toc-text">LVM常用命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LVM%E6%89%A9%E5%AE%B9"><span class="toc-number">1.11.7.4.</span> <span class="toc-text">LVM扩容</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By Kesen</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>